# 11장 - 합성과 유연한 설계

- 스터디 중 삼색볼펜법으로 체크한 부분들을 팀원들과 공유한 내용입니다.
- 스터디원들이 2명 이상 겹치는 부분은 강조표시(BOLD) 되어 있습니다.
- 문장은 페이지의 오름차순으로 정렬되어 있습니다.

##  빨강 (아주 중요하다고 생각한 내용!)
- 따라서 상속 대신 합성을 사용하면 변경하기 쉽고 유연한 설계를 얻을 수 있다.(347p)
- 구현이 아니라 인터페이스에 의존하면 설계가 유연해진다는 것이다.(353p)

##  파랑 (중요하다고 생각한 내용!)
- 결과적으로 상속은 코드를 재사용할 수 있는 쉽고 간단한 방법일지는 몰라도 우아한 방법이라고 할 수는 없다.(346p)
- 대부분의 경우 구현에 대한 결합보다는 인터페이스에 대한 결합이 더 좋다는 사실을 기억하라.(352p)
- **이처럼 상속의 남용으로 하나의 기능을 추가하기 위해 필요 이상으로 많은 수의 클래스를 추가 해야 하는 경우를 가르켜 클래스 폭발(class explosion) 문제 또는 조합의 폭발(combinational explosion) 문제라고 부른다.(367p)**
- 이 문제를 해결할 수 있는 최선의 방법은 상속을 포기하는 것이다.(368p)
- 합성은 컴파일타임 관계를 런타임 관계로 변경함으로써 이 문제를 해결한다.(368p)
- 클래스 폭발 문제를 해결하기 위해 합성을 사용하는 이유는 런타임에 객체 사이의 의존성을 자유롭게 변경할 수 있기 때문이다.(368p)
- 컴파일 의존성에 속박되지 않고 다양한 방식의 런타임 의존성을 구성할 수 있다는 것이 합성이 제공하는 가장 커다란 장점인 것이다.(368p)
- 믹스인(mixin)은 객체를 생성할 때 코드 일부를 클래스 안에 섞어 넣어 재사용하는 기법을 가르키는 용어다.(379p)
- 상속의 경우에 일반적으로 this 참조는 동적으로 결정되지만 super 참조는 컴파일 시점에 결정된다.(383p)
- 여기서 중요한 것은 믹스인되기 전까지는 상속 계층 안에서 TaxablePolicy 트레이트의 위치가 결정되지 않는다는 것이다.(384p)
- 사실 클래스 폭발 문제의 단점은 클래스가 늘어난다는 것이 아니라 클래스가 늘어날수록 중복 코드도 함께 기하급수적으로 늘어난다는 점이다.(387p)

##  초록 (흥미롭다고 생각한 내용!)
- 하지만 상속은 코드 재사용을 위한 우아한 해결책은 아니다.(378p) 
